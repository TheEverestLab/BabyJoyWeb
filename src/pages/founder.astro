---
import Hero from '~/components/widgets/Hero.astro';
import Content from '~/components/widgets/Content.astro';
import Features2 from '~/components/widgets/Features2.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import Layout from '~/layouts/PageLayout.astro';
import { Icon } from 'astro-icon/components';

const metadata = {
  title: 'Tan Nguyen - iOS Team Lead & Founder | The Everest Lab',
  description: 'iOS Engineer with 12 years of experience and 6 years in leadership, delivering scalable, high-performance apps. Founder of The Everest Lab.',
};
---

<Layout metadata={metadata}>
  <!-- Hero Widget with Contact Info -->
  <Hero
    tagline="Professional Profile"
  >
    <Fragment slot="title">
      Tan Nguyen
      <br />
      <span class="text-accent dark:text-white highlight text-3xl">iOS Team Lead & Engineering Leader</span>
    </Fragment>

    <Fragment slot="subtitle">
      <div class="max-w-3xl mx-auto">
        <p class="text-xl mb-6">
          iOS Engineer with 12 years of experience and 6 years in leadership, delivering scalable, 
          high-performance apps through modular architecture, multi-hardware integration, and data-driven UI/UX.
        </p>
        <div class="flex flex-wrap justify-center gap-6 text-lg">
          <a href="tel:+6583578964" class="flex items-center gap-2 hover:text-accent transition">
            <Icon name="tabler:phone" class="w-5 h-5" />
            +65 8357 8964
          </a>
          <a href="mailto:ngthanhtan91@gmail.com" class="flex items-center gap-2 hover:text-accent transition">
            <Icon name="tabler:mail" class="w-5 h-5" />
            ngthanhtan91@gmail.com
          </a>
          <a href="https://linkedin.com/in/nguyenthanhtan" target="_blank" class="flex items-center gap-2 hover:text-accent transition">
            <Icon name="tabler:brand-linkedin" class="w-5 h-5" />
            LinkedIn
          </a>
        </div>
      </div>
    </Fragment>
  </Hero>

  <!-- Professional Summary -->
  <Content
    isReversed
    items={[
      {
        title: 'Proven Leadership',
        description:
          'Managing teams, mentoring engineers, and driving performance improvements with a proven record of scaling modular codebases from 3 to 10 iOS projects over 5 years.',
      },
      {
        title: 'Technical Excellence',
        description:
          'Delivered 50% app performance improvements through call reduction, data structure optimization, throttling, and leveraging C for performance-critical operations.',
      },
      {
        title: 'Cross-functional Collaboration',
        description:
          'Coordinated with hardware, design, and QA teams to deliver enterprise-grade features with seamless integration.',
      },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1531297484001-80022131f5a1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2020&q=80',
      alt: 'Tech Innovation',
    }}
  >
    <Fragment slot="content">
      <h3 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-2">Professional Summary</h3>
      <p>Delivering scalable solutions through technical leadership and team development</p>
    </Fragment>

    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </Content>

  <!-- Professional Experience Section -->
  <div class="py-16 px-4 sm:px-6 mx-auto md:px-24 lg:px-8 lg:py-20 max-w-6xl">
    <h2 class="text-4xl md:text-5xl font-bold leading-tighter tracking-tighter mb-12 text-center font-heading">
      Professional Experience
    </h2>

    <!-- Screening Eagle Technology -->
    <div class="mb-12">
      <div class="bg-white dark:bg-slate-900 rounded-lg shadow-lg p-8">
        <div class="mb-6">
          <h3 class="text-2xl font-bold text-gray-900 dark:text-white">Screening Eagle Technology, Singapore</h3>
        </div>

        <!-- Team Lead Role -->
        <div class="mb-8">
          <div class="flex justify-between items-start mb-4">
            <h4 class="text-xl font-semibold text-accent">Team Lead, iOS Development</h4>
            <span class="text-gray-600 dark:text-gray-400">Dec 2021 – Present</span>
          </div>
          <p class="text-gray-600 dark:text-gray-400 italic mb-4">Promoted for outstanding project execution and leadership</p>
          
          <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300 mb-4">
            <li>Lead iOS projects and manage a team of engineers, driving both technical delivery and people development</li>
            <li>Improved app performance by 50% through call reduction, data structure optimization, throttling, and leveraging C for performance-critical operations</li>
            <li>Scaled modular codebase from 3 to 10 iOS projects, enabling faster development cycles</li>
            <li>Managed and coached 5+ engineers via 1:1s, performance reviews, and career planning</li>
            <li>Enhanced user engagement with data-driven UI/UX improvements</li>
            <li>Coordinated with hardware, design, and QA teams to deliver cross-functional features</li>
          </ul>

          <div class="bg-gray-50 dark:bg-slate-800 rounded p-4">
            <h5 class="font-semibold mb-3">Key Projects:</h5>
            <ul class="space-y-2 text-gray-700 dark:text-gray-300">
              <li><strong>GPR Subsurface Mobile (2024):</strong> 300% speed increase via multithreading & algorithm optimizations</li>
              <li><strong>Profometer:</strong> 50% runtime efficiency improvement + new Line Scan & Statistics features</li>
              <li><strong>Flaw Detector:</strong> Added A-Scan, Corrosion Grid, and B-Scan, improving measurement accuracy</li>
            </ul>
          </div>
        </div>

        <!-- iOS Engineer Role -->
        <div>
          <div class="flex justify-between items-start mb-4">
            <h4 class="text-xl font-semibold text-accent">iOS Engineer</h4>
            <span class="text-gray-600 dark:text-gray-400">May 2019 – Dec 2021</span>
          </div>
          <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300">
            <li>Built enterprise-grade features with modular architecture and BLE/Wi-Fi integration</li>
            <li>Released performance-optimized apps with improved retention</li>
            <li>Collaborated with cross-functional teams to deliver seamless features</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Enclave Vietnam -->
    <div class="mb-12">
      <div class="bg-white dark:bg-slate-900 rounded-lg shadow-lg p-8">
        <div class="mb-6">
          <h3 class="text-2xl font-bold text-gray-900 dark:text-white">Enclave Vietnam, Da Nang, Vietnam</h3>
        </div>

        <div>
          <div class="flex justify-between items-start mb-4">
            <h4 class="text-xl font-semibold text-accent">Software Engineer</h4>
            <span class="text-gray-600 dark:text-gray-400">Jun 2014 – Apr 2019</span>
          </div>
          <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300">
            <li>Developed & maintained apps like My Astro and AIA Medical</li>
            <li>Improved app performance by 20% via targeted optimizations</li>
            <li>Contributed to top-ranked apps in Malaysia, driving user adoption</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- Skills Section -->
  <Features2
    title="Technical Skills & Expertise"
    subtitle="Building scalable solutions with modern technologies"
    columns={2}
    items={[
      {
        title: 'Leadership & Management',
        description: 'People management through 1:1s, performance reviews, career growth planning. Team growth via onboarding, mentoring, and scaling. Cross-functional leadership with product, design, QA, and hardware teams. Agile leadership including sprint planning, backlog prioritization, and delivery management.',
        icon: 'tabler:users-group',
      },
      {
        title: 'Programming Languages',
        description: 'Swift, Objective-C, C/C++, Java, SQL - delivering high-performance, maintainable code across multiple platforms and architectures.',
        icon: 'tabler:code',
      },
      {
        title: 'iOS Development',
        description: 'SwiftUI, UIKit, CoreData, Realm, YapDatabase. Expertise in modular architecture, MVC, MVVM, SOLID principles, and Type-Driven Development.',
        icon: 'tabler:device-mobile',
      },
      {
        title: 'Tools & DevOps',
        description: 'Xcode, Git, Jira, Confluence, SPM, Carthage, CocoaPods, Fastlane. Firebase, AWS, CI/CD pipelines, Unit Testing, and Scrum methodologies.',
        icon: 'tabler:tools',
      },
    ]}
  />

  <!-- Education -->
  <div class="py-16 px-4 sm:px-6 mx-auto md:px-24 lg:px-8 lg:py-20 max-w-6xl">
    <div class="bg-white dark:bg-slate-900 rounded-lg shadow-lg p-8 max-w-4xl mx-auto">
      <h2 class="text-3xl font-bold mb-4">Education</h2>
      <div class="flex justify-between items-start">
        <div>
          <h3 class="text-xl font-semibold text-accent">Bachelor's Degree in Computer Science</h3>
          <p class="text-gray-600 dark:text-gray-400">Da Nang University of Science and Technology</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Entrepreneurial Projects Section -->
  <Content
    isAfterContent
    items={[
      {
        title: 'The Everest Lab',
        description:
          'Founded as a personal lab/company for incubating software services and apps, serving as a parent brand for multiple innovative products.',
      },
      {
        title: 'Baby Joy - Flagship Product',
        description:
          'A comprehensive baby-tracking and parenting hub app available on the App Store, helping parents monitor their baby\'s growth, milestones, and daily activities.',
      },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1605810230434-7631ac76ec81?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',
      alt: 'Innovation Lab',
    }}
  >
    <Fragment slot="content">
      <h3 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-2">Entrepreneurial Projects</h3>
      <p>Building the future through innovation</p>
    </Fragment>

    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </Content>

  <!-- Call to Action -->
  <CallToAction
    title="Let's Connect"
    subtitle="I'm always interested in discussing new opportunities, collaborations, and innovative projects."
    actions={[
      {
        variant: 'primary',
        text: 'Contact via Email',
        href: 'mailto:ngthanhtan91@gmail.com',
        icon: 'tabler:mail',
      },
      {
        variant: 'secondary',
        text: 'Connect on LinkedIn',
        href: 'https://linkedin.com/in/nguyenthanhtan',
        targetBlank: true,
        icon: 'tabler:brand-linkedin',
      },
    ]}
  />

  <!-- Additional Links -->
  <div class="text-center pb-12">
    <div class="flex justify-center gap-6">
      <a href="https://theeverestlab.com" target="_blank" class="text-gray-600 hover:text-accent transition">
        Visit The Everest Lab →
      </a>
      <a href="https://apps.apple.com/sg/app/baby-joy/id6475108933" target="_blank" class="text-gray-600 hover:text-accent transition">
        Baby Joy on App Store →
      </a>
    </div>
  </div>
</Layout>