---
import Hero from '~/components/widgets/Hero.astro';
import Content from '~/components/widgets/Content.astro';
import Features2 from '~/components/widgets/Features2.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import Layout from '~/layouts/Layout.astro';
import { Icon } from 'astro-icon/components';
import { Image } from 'astro:assets';

// Import images
import avatarImage from '~/assets/images/profiles/tan-avatar.jpg';
import screenshot0 from '~/assets/images/app-store/appstore-0.png';
import screenshot1 from '~/assets/images/app-store/appstore-1.PNG';
import screenshot2 from '~/assets/images/app-store/appstore-2.PNG';
import screenshot3 from '~/assets/images/app-store/appstore-3.PNG';
import screenshot4 from '~/assets/images/app-store/appstore-4.PNG';
import screenshot5 from '~/assets/images/app-store/appstore-5.PNG';

const metadata = {
  title: 'Tan Nguyen - iOS Team Lead & Founder | The Everest Lab',
  description: 'iOS Engineer with 12 years of experience and 6 years in leadership, delivering scalable, high-performance apps. Founder of The Everest Lab.',
};
---

<Layout metadata={metadata}>
  <main>
  <!-- Hero Widget with Contact Info -->
  <Hero>
    <Fragment slot="title">
      <div class="flex flex-col items-center">
        <div class="mb-3">
          <p class="text-base text-secondary dark:text-blue-200 font-bold tracking-wide uppercase">About Me</p>
        </div>
        <Image 
          src={avatarImage} 
          alt="Tan Nguyen" 
          class="w-40 h-40 rounded-full mb-6 object-cover ring-4 ring-white dark:ring-gray-800 shadow-xl"
          width={160}
          height={160}
        />
        <div class="text-center">
          <h1 class="text-5xl md:text-6xl font-bold mb-3">Tan Nguyen</h1>
          <p class="text-2xl md:text-3xl text-accent dark:text-white font-semibold tracking-wide">
            iOS Team Lead & Engineering Leader
          </p>
        </div>
      </div>
    </Fragment>

    <Fragment slot="subtitle">
      <div class="max-w-3xl mx-auto">
        <p class="text-xl mb-6">
          iOS Engineer with 12 years of experience and 6 years in leadership, delivering scalable, 
          high-performance apps through modular architecture, multi-hardware integration, and data-driven UI/UX.
        </p>
        <div class="flex flex-wrap justify-center gap-4 text-base">
          <a href="tel:+6583578964" class="flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-accent transition">
            <Icon name="tabler:phone" class="w-4 h-4" />
            <span>+65 8357 8964</span>
          </a>
          <span class="text-gray-400 dark:text-gray-600">•</span>
          <a href="mailto:ngthanhtan91@gmail.com" class="flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-accent transition">
            <Icon name="tabler:mail" class="w-4 h-4" />
            <span>ngthanhtan91@gmail.com</span>
          </a>
          <span class="text-gray-400 dark:text-gray-600">•</span>
          <a href="https://linkedin.com/in/tan-nguyen-thanh" target="_blank" class="flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-accent transition">
            <Icon name="tabler:brand-linkedin" class="w-4 h-4" />
            <span>LinkedIn</span>
          </a>
        </div>
      </div>
    </Fragment>
  </Hero>

  <!-- Professional Summary -->
  <div class="pt-0 pb-4 px-4 sm:px-6 mx-auto md:px-24 lg:px-8 max-w-6xl">
    <h2 class="text-3xl font-bold mb-4 text-center">Professional Summary</h2>
    <div class="grid md:grid-cols-3 gap-4 max-w-5xl mx-auto">
      <div class="text-center p-4">
        <h3 class="font-semibold text-accent mb-2">Proven Leadership</h3>
        <p class="text-sm text-gray-600 dark:text-gray-400">6+ years managing teams, scaling codebases from 3 to 10 iOS projects</p>
      </div>
      <div class="text-center p-4">
        <h3 class="font-semibold text-accent mb-2">Technical Excellence</h3>
        <p class="text-sm text-gray-600 dark:text-gray-400">50% performance improvements through optimization & architecture</p>
      </div>
      <div class="text-center p-4">
        <h3 class="font-semibold text-accent mb-2">Cross-functional</h3>
        <p class="text-sm text-gray-600 dark:text-gray-400">Coordinated with hardware, design, and QA teams</p>
      </div>
    </div>
  </div>

  <!-- Professional Experience Section -->
  <div class="py-6 px-4 sm:px-6 mx-auto md:px-24 lg:px-8 lg:py-8 max-w-6xl">
    <h2 class="text-4xl md:text-5xl font-bold leading-tighter tracking-tighter mb-12 text-center font-heading">
      Professional Experience
    </h2>

    <!-- Screening Eagle Technology -->
    <div class="mb-12">
      <div class="bg-white dark:bg-slate-900 rounded-lg shadow-lg p-8">
        <div class="mb-6">
          <h3 class="text-2xl font-bold text-gray-900 dark:text-white">Screening Eagle Technology, Singapore</h3>
        </div>

        <!-- Team Lead Role -->
        <div class="mb-8">
          <div class="flex justify-between items-start mb-4">
            <h4 class="text-xl font-semibold text-accent">Team Lead, iOS Development</h4>
            <span class="text-gray-600 dark:text-gray-400">Dec 2021 – Present</span>
          </div>
          <p class="text-gray-600 dark:text-gray-400 italic mb-4">Promoted for outstanding project execution and leadership</p>
          
          <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300 mb-4">
            <li>Lead iOS projects and manage a team of engineers, driving both technical delivery and people development</li>
            <li>Improved app performance by 50% through call reduction, data structure optimization, throttling, and leveraging C for performance-critical operations</li>
            <li>Scaled modular codebase from 3 to 10 iOS projects, enabling faster development cycles</li>
            <li>Managed and coached 5+ engineers via 1:1s, performance reviews, and career planning</li>
            <li>Enhanced user engagement with data-driven UI/UX improvements</li>
            <li>Coordinated with hardware, design, and QA teams to deliver cross-functional features</li>
          </ul>

          <div class="bg-gray-50 dark:bg-slate-800 rounded p-4">
            <h5 class="font-semibold mb-3">Key Projects:</h5>
            <ul class="space-y-2 text-gray-700 dark:text-gray-300">
              <li>
                <a href="https://apps.apple.com/us/app/proceq-gpr-subsurface/id1524783895" target="_blank" class="text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 underline font-semibold transition">
                  GPR Subsurface Mobile (2024)
                </a>
                <span>: 300% speed increase via multithreading & algorithm optimizations</span>
              </li>
              <li>
                <a href="https://apps.apple.com/us/app/profometer/id1638693429" target="_blank" class="text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 underline font-semibold transition">
                  Profometer
                </a>
                <span>: 60% runtime efficiency improvement + new Line Scan & Statistics features</span>
              </li>
              <li>
                <a href="https://apps.apple.com/us/app/proceq-flaw-detector-live/id1489727542" target="_blank" class="text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 underline font-semibold transition">
                  Flaw Detector
                </a>
                <span>: Added A-Scan, Corrosion Grid, and B-Scan, improving measurement accuracy</span>
              </li>
            </ul>
          </div>
        </div>

        <!-- iOS Engineer Role -->
        <div>
          <div class="flex justify-between items-start mb-4">
            <h4 class="text-xl font-semibold text-accent">iOS Engineer</h4>
            <span class="text-gray-600 dark:text-gray-400">May 2019 – Dec 2021</span>
          </div>
          <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300">
            <li>Built enterprise-grade features with modular architecture and BLE/Wi-Fi integration</li>
            <li>Released performance-optimized apps with improved retention</li>
            <li>Collaborated with cross-functional teams to deliver seamless features</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Enclave Vietnam -->
    <div class="mb-12">
      <div class="bg-white dark:bg-slate-900 rounded-lg shadow-lg p-8">
        <div class="mb-6">
          <h3 class="text-2xl font-bold text-gray-900 dark:text-white">Enclave Vietnam, Da Nang, Vietnam</h3>
        </div>

        <div>
          <div class="flex justify-between items-start mb-4">
            <h4 class="text-xl font-semibold text-accent">Software Engineer</h4>
            <span class="text-gray-600 dark:text-gray-400">Jun 2014 – Apr 2019</span>
          </div>
          <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300">
            <li>Developed & maintained apps like <a href="https://itunes.apple.com/my/app/my-astro/id698080879?mt=8" target="_blank" class="text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 underline font-semibold">My Astro</a> and <a href="https://apps.apple.com/sg/app/aia-malaysia/id1286476389" target="_blank" class="text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 underline font-semibold">AIA Malaysia</a></li>
            <li>Improved app performance by 20% via targeted optimizations</li>
            <li>Contributed to top-ranked apps in Malaysia, driving user adoption</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- Skills Section -->
  <Features2
    title="Technical Skills & Expertise"
    subtitle=""
    columns={2}
    classes={{ container: 'py-6 lg:py-8' }}
    items={[
      {
        title: 'Leadership & Management',
        description: '• People management: 1:1s, performance reviews, career growth planning<br/>• Team growth: onboarding, mentoring, and scaling engineering teams<br/>• Cross-functional leadership with product, design, QA, and hardware teams<br/>• Agile leadership: sprint planning, backlog prioritization, delivery management',
        icon: 'tabler:users-group',
      },
      {
        title: 'Programming Languages',
        description: 'Swift, Objective-C, C/C++, Java, SQL',
        icon: 'tabler:code',
      },
      {
        title: 'iOS Development',
        description: 'SwiftUI, UIKit, CoreData, Realm, YapDatabase. Expertise in modular architecture, MVC, MVVM, SOLID principles, and Type-Driven Development.',
        icon: 'tabler:device-mobile',
      },
      {
        title: 'Tools & DevOps',
        description: 'Xcode, Git, Jira, Confluence, SPM, Carthage, CocoaPods, Fastlane. Firebase, AWS, CI/CD pipelines, Unit Testing, and Scrum methodologies.',
        icon: 'tabler:tools',
      },
    ]}
  />

  <!-- Education -->
  <div class="py-4 px-4 sm:px-6 mx-auto md:px-24 lg:px-8 lg:py-6 max-w-6xl">
    <div class="bg-white dark:bg-slate-900 rounded-lg shadow-lg p-8 max-w-4xl mx-auto">
      <h2 class="text-3xl font-bold mb-4">Education</h2>
      <div class="flex justify-between items-start">
        <div>
          <h3 class="text-xl font-semibold text-accent">Bachelor's Degree in Computer Science</h3>
          <p class="text-gray-600 dark:text-gray-400">Da Nang University of Science and Technology</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Entrepreneurial Projects Section -->
  <div class="py-6 px-4 sm:px-6 mx-auto md:px-24 lg:px-8 lg:py-8 max-w-6xl">
    <h2 class="text-3xl font-bold mb-8 text-center">Entrepreneurial Projects</h2>
    
    <div class="grid md:grid-cols-2 gap-8 items-center">
      <div>
        <div class="mb-6">
          <h3 class="text-2xl font-semibold text-accent mb-3">The Everest Lab</h3>
          <p class="text-gray-600 dark:text-gray-400 mb-3">
            Founded as a personal lab/company for incubating software services and apps, serving as a parent brand for multiple innovative products.
          </p>
          <a href="https://theeverestlab.com" target="_blank" class="text-accent hover:underline transition inline-flex items-center gap-1">
            Visit The Everest Lab →
          </a>
        </div>
        
        <div>
          <h3 class="text-2xl font-semibold text-accent mb-3">Baby Joy - Flagship Product</h3>
          <p class="text-gray-600 dark:text-gray-400 mb-3">
            A comprehensive baby-tracking and parenting hub app available on the App Store, helping parents monitor their baby's growth, milestones, and daily activities.
          </p>
          <a href="https://apps.apple.com/sg/app/baby-joy/id6475108933" target="_blank" class="text-accent hover:underline transition inline-flex items-center gap-1">
            Baby Joy on App Store →
          </a>
        </div>
      </div>
      
      <!-- Screenshot Carousel -->
      <div class="relative">
        <div class="carousel-container overflow-hidden" style="height: 400px;">
          <div class="carousel-track flex transition-transform duration-500 h-full" id="carouselTrack">
            <div class="w-full flex-shrink-0 flex items-center justify-center h-full">
              <Image src={screenshot0} alt="Baby Joy Screenshot 1" class="max-h-full object-contain" />
            </div>
            <div class="w-full flex-shrink-0 flex items-center justify-center h-full">
              <Image src={screenshot1} alt="Baby Joy Screenshot 2" class="max-h-full object-contain" />
            </div>
            <div class="w-full flex-shrink-0 flex items-center justify-center h-full">
              <Image src={screenshot2} alt="Baby Joy Screenshot 3" class="max-h-full object-contain" />
            </div>
            <div class="w-full flex-shrink-0 flex items-center justify-center h-full">
              <Image src={screenshot3} alt="Baby Joy Screenshot 4" class="max-h-full object-contain" />
            </div>
            <div class="w-full flex-shrink-0 flex items-center justify-center h-full">
              <Image src={screenshot4} alt="Baby Joy Screenshot 5" class="max-h-full object-contain" />
            </div>
            <div class="w-full flex-shrink-0 flex items-center justify-center h-full">
              <Image src={screenshot5} alt="Baby Joy Screenshot 6" class="max-h-full object-contain" />
            </div>
          </div>
        </div>
        
        <!-- Carousel Dots -->
        <div class="flex justify-center mt-4 gap-2" id="carouselDots">
          <button class="w-2 h-2 rounded-full bg-accent" data-slide="0"></button>
          <button class="w-2 h-2 rounded-full bg-gray-300" data-slide="1"></button>
          <button class="w-2 h-2 rounded-full bg-gray-300" data-slide="2"></button>
          <button class="w-2 h-2 rounded-full bg-gray-300" data-slide="3"></button>
          <button class="w-2 h-2 rounded-full bg-gray-300" data-slide="4"></button>
          <button class="w-2 h-2 rounded-full bg-gray-300" data-slide="5"></button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Carousel functionality
    const track = document.getElementById('carouselTrack');
    const dots = document.querySelectorAll('#carouselDots button');
    let currentSlide = 0;
    const totalSlides = 6;

    function goToSlide(slideIndex) {
      currentSlide = slideIndex;
      if (track) {
        track.style.transform = `translateX(-${currentSlide * 100}%)`;
      }
      
      dots.forEach((dot, index) => {
        if (index === currentSlide) {
          dot.classList.add('bg-accent');
          dot.classList.remove('bg-gray-300');
        } else {
          dot.classList.add('bg-gray-300');
          dot.classList.remove('bg-accent');
        }
      });
    }

    // Auto-play carousel
    function autoPlay() {
      currentSlide = (currentSlide + 1) % totalSlides;
      goToSlide(currentSlide);
    }

    // Set up auto-play interval
    let autoPlayInterval = setInterval(autoPlay, 3000);

    // Add click handlers to dots
    dots.forEach((dot, index) => {
      dot.addEventListener('click', () => {
        clearInterval(autoPlayInterval);
        goToSlide(index);
        autoPlayInterval = setInterval(autoPlay, 3000);
      });
    });

    // Pause on hover
    if (track) {
      track.addEventListener('mouseenter', () => clearInterval(autoPlayInterval));
      track.addEventListener('mouseleave', () => {
        autoPlayInterval = setInterval(autoPlay, 3000);
      });
    }
  </script>

  <!-- Call to Action -->
  <CallToAction
    title="Let's Connect"
    subtitle="I'm always interested in discussing new opportunities, collaborations, and innovative projects."
    actions={[
      {
        variant: 'primary',
        text: 'Contact via Email',
        href: 'mailto:ngthanhtan91@gmail.com',
        icon: 'tabler:mail',
      },
      {
        variant: 'secondary',
        text: 'Connect on LinkedIn',
        href: 'https://linkedin.com/in/tan-nguyen-thanh',
        targetBlank: true,
        icon: 'tabler:brand-linkedin',
      },
    ]}
  />
  </main>
</Layout>